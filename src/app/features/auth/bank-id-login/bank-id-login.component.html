<<<<<<< HEAD
<div
  class="front-container dnbError"
  *ngIf="isDnbBank && environment.loginDnbIsOn === false"
>
  <form
    class="email-form"
    [formGroup]="missingBankForm"
    novalidate
    (ngSubmit)="request()"
  >
    <h3>DNB sperrer at du kan hente dine lånedata</h3>

    <p>
      DNB ønsker ikke at du som kunde skal sammenligne betingelsene på
      boliglånet ditt. Siden nyttår har de derfor aktivt sperret sine kunder å
      dele lånedata med Renteradar.no. Vi synes det er både trist og umoralsk at
      DNB aktivt motarbeider åpenhet og transparens i boliglånsmarkedet på denne
      måten.
    </p>

    <p>
      Vi har derfor laget en digital underskriftskampanje der vi ber DNB åpne
      for å dele låneinformasjon.
    </p>
    <br />
    <a
      href="https://www.underskrift.no/vis.asp?kampanje=8447"
      class="temp-button"
    >
      <p>Signer på kampanjen her</p>
    </a>
    <br />
    <br />
    <p>
      Ønsker du beskjed i fremtiden når Renteradar.no igjen fungerer for DNB
      kunder kan du også legge igjen epostadressen din her:
    </p>

    <div>
      <rente-input
        [placeholder]="'E-post'"
        formControlName="email"
        [errorStateMatcher]="isErrorState(missingBankForm.controls['email'])"
        [textControl]="inValid()"
      >
      </rente-input>
      <div
        i18n="“issue-email|get-notified@@get.notified.email”"
        *ngIf="emailError"
        class="error-message"
      >
        <rente-form-message
          class="text-left d-block"
          [type]="'error'"
          *ngIf="missingBankForm.controls['email'].hasError('required')"
        >
          Ikke gyldig email
        </rente-form-message>
        <rente-form-message
          class="text-left d-block"
          [type]="'error'"
          *ngIf="missingBankForm.controls['email'].hasError('pattern')"
        >
          Ikke gyldig email
        </rente-form-message>
      </div>
    </div>

    <rente-button
      i18n="“notify-me|get-notified@@get.notified.notifyMe”"
      color="primary"
      [disabled]="!missingBankForm.valid || isLoading"
      >Gi meg beskjed!
    </rente-button>
  </form>

  <div class="loading" *ngIf="!missingBankForm">
    <mat-spinner [diameter]="48" [strokeWidth]="4"></mat-spinner>
  </div>

  <div *ngIf="isDnbBank" class="calculator-promotion">
    <h4>
      I mellomtiden prøv gjerne vår
      <a [routerLink]="['/boliglanskalkulator']"> boliglånskalkulator </a>
    </h4>
  </div>
</div>

<div
  *ngIf="!isDnbBank || environment.loginDnbIsOn === true"
  class="front-container"
>
  <p *ngIf="false" class="red">
    Vi har nylig åpnet tjenesten for Handelsbanken, og den er fortsatt under
    utvikling. Gi gjerne tilbakemelding via chat/epost hvis noe ikke fungerer
    som det skal
  </p>
  <p *ngIf="false" class="red">
    Vi har nylig åpnet tjenesten for Danske Bank, og den er fortsatt under
    utvikling. Gi gjerne tilbakemelding via chat/epost hvis noe ikke fungerer
    som det skal
  </p>

  <p class="red" *ngIf="isDnbBank">
    Vi opplever at DNB sperrer enkelte kunder fra å innhente sine lånedata. Se
    nederst på siden for mer informasjon.
  </p>

  <section *ngIf="!isLoginStarted && bankIdForm" class="login">
    <h3 i18n="“title|bank-id@@bankId.title”">Logg inn med BankID på mobil</h3>
    <p i18n="“description|bank-id@@bankId.description”">
      Renteradar henter lånedetaljer og renten din automatisk med BankID på
      Mobil.
    </p>
    <p i18n="“description|bank-id@@bankId.description2”" *ngIf="isSB1Bank">
      Vi støtter kun BankID på Mobil, ikke kodebrikke eller engangskode appen.
    </p>
    <!-- 
    <p class="dnbInstability" *ngIf="isEikaBank">Vi opplever at enkelte brukere ikke får logget inn.<br> Vi jobber med å rette problemet</p>
    -->

    <p
      i18n="“issue|bank-id@@bankId.issue”"
      *ngIf="isSB1Bank && false"
      class="red"
    >
      Akkurat nå er det mange banker som setter ned renten og oppdaterer
      systemene sine. Det kan derfor være en uriktig forskjell på nominell og
      effektiv rente som vi henter. Besparelsen blir da for høy.
    </p>

    <p
      i18n="“information|bank-id@@bankId.info”"
      *ngIf="!isSB1Bank && !isDnbBank"
    >
      Vi støtter kun BankID på Mobil, ikke kodebrikke og passord.
    </p>
    <p
      i18n="“issue|bank-id@@bankId.issue2”"
      *ngIf="isEikaBank && false"
      class="red"
    >
      OBS: Vi tester fortsatt løsningen for denne banken. <br />
      Gi gjerne beskjed hvis noe ikke fungerer optimalt.
    </p>

    <form
      [formGroup]="bankIdForm"
      novalidate
      (ngSubmit)="startLogin(bankIdForm.value)"
    >
      <img
        class="bank-logo"
        [src]="bankLogo"
        [alt]="bank?.label"
        [title]="bank?.label"
      />

      <div *ngIf="isSsnBankLogin; else birthdateInput" class="form-group">
        <rente-input
          [errorStateMatcher]="isErrorState(bankIdForm.controls['ssn'])"
          [placeholder]="'Ditt fødselsnummer (11 siffer)'"
          formControlName="ssn"
          [type]="'tel'"
          [maskType]="mask.ssn"
          [modelOptions]="{ updateOn: 'blur' }"
        >
        </rente-input>
        <div class="error-message" *ngIf="bankIdForm.controls['ssn'].touched">
          <rente-form-message
            class="text-left d-block"
            *ngIf="bankIdForm.controls['ssn'].hasError('required')"
            [type]="'error'"
            i18n="“issue|bank-id@@bankId.description.birthNumber”"
          >
            Fødselsnummer kan ikke være tomt
          </rente-form-message>
          <rente-form-message
            class="text-left d-block"
            *ngIf="bankIdForm.controls['ssn'].hasError('pattern')"
            [type]="'error'"
            i18n="“issue|bank-id@@bankId.description.birthNumber2”"
          >
            Fødselsnummer ikke gyldig
          </rente-form-message>
          <rente-form-message
            class="text-left d-block"
            *ngIf="bankIdForm.controls['ssn'].hasError('ssnNotValid')"
            [type]="'error'"
            i18n="“issue|bank-id@@bankId.description.birthNumber3”"
          >
            Fødselsnummeret er ikke gyldig
          </rente-form-message>
        </div>
      </div>

      <ng-template #birthdateInput>
        <div class="form-group">
          <rente-input
            [errorStateMatcher]="isErrorState(bankIdForm.controls['birthdate'])"
            [placeholder]="'Din fødselsdato (ddmmåå)'"
            formControlName="birthdate"
            [maskType]="mask.birthDate"
            [type]="'tel'"
            [modelOptions]="{ updateOn: 'blur' }"
          >
          </rente-input>
          <div
            class="error-message"
            *ngIf="bankIdForm.controls['birthdate'].touched"
          >
            <rente-form-message
              class="text-left d-block"
              *ngIf="bankIdForm.controls['birthdate'].hasError('required')"
              [type]="'error'"
              i18n="“issue|bank-id@@bankId.description.birthNumber4”"
            >
              Fødselsdato kan ikke være tomt
            </rente-form-message>
            <rente-form-message
              class="text-left d-block"
              *ngIf="bankIdForm.controls['birthdate'].hasError('pattern')"
              [type]="'error'"
              i18n="“issue|bank-id@@bankId.description.birthNumber5”"
            >
              Fødselsdato ikke gyldig
            </rente-form-message>
          </div>
        </div>
      </ng-template>

      <div class="form-group">
        <rente-input
          [errorStateMatcher]="isErrorState(bankIdForm.controls['phone'])"
          [placeholder]="'Ditt mobilnummer (8 siffer)'"
          formControlName="phone"
          [maskType]="mask.phone"
          [type]="'tel'"
          [modelOptions]="{ updateOn: 'blur' }"
        >
        </rente-input>
        <div class="error-message" *ngIf="bankIdForm.controls['phone'].touched">
          <rente-form-message
            class="text-left d-block"
            *ngIf="bankIdForm.controls['phone'].hasError('required')"
            [type]="'error'"
            i18n="“issue|bank-id@@bankId.description.telephoneNumber”"
          >
            Telefonnummer kan ikke være tomt
          </rente-form-message>
          <rente-form-message
            class="text-left d-block"
            *ngIf="bankIdForm.controls['phone'].hasError('pattern')"
            [type]="'error'"
            i18n="“issue|bank-id@@bankId.description.telephoneNumber2”"
          >
            Telefonnummer ikke gyldig
          </rente-form-message>
        </div>
      </div>

      <mat-checkbox
        formControlName="confirmation"
        (change)="isConfirmed = $event.checked"
        i18n="“accepting|bank-id@@bankId.policy”"
      >
        Jeg aksepterer Renteradar.no's
        <a class="link" (click)="openServiceDialog()">vilkår</a>
      </mat-checkbox>

      <div class="register-btn">
        <rente-button
          color="primary"
          [disabled]="!bankIdForm.valid || !isConfirmed"
          i18n="“log-in|bank-id@@bankId.logIn”"
        >
          Logg inn
        </rente-button>
      </div>
    </form>
  </section>

  <rente-login-status
    *ngIf="isLoginStarted"
    [userData]="userData"
    [bank]="bank"
    (returnToInputPage)="isLoginStarted = false"
  >
  </rente-login-status>

  <!-- <div *ngIf="isDnbBank && environment.loginDnbIsOn === false"> -->
  <div *ngIf="isDnbBank && environment.loginDnbIsOn === true">
    <form
      class="email-form"
      [formGroup]="missingBankForm"
      novalidate
      (ngSubmit)="request()"
    >
      <h3>Angående DNBs sperring av innhenting av lånedata</h3>

      <p>
        DNB ønsker ikke at du som kunde skal sammenligne betingelsene på
        boliglånet ditt. Siden nyttår har de derfor aktivt sperret sine kunder å
        dele lånedata med Renteradar.no. Vi synes det er både trist og umoralsk
        at DNB aktivt motarbeider åpenhet og transparens i boliglånsmarkedet på
        denne måten, og jobber aktivt for å løse problemet.
      </p>

      <p>
        Vi har også laget en digital underskriftskampanje der vi ber DNB åpne
        for å dele låneinformasjon.
      </p>
      <br />
      <a
        href="https://www.underskrift.no/vis.asp?kampanje=8447"
        class="temp-button"
      >
        <p>Signer på kampanjen her</p>
      </a>
      <br />
      <br />
      <p>
        Ønsker du beskjed i fremtiden når Renteradar.no igjen fungerer for DNB
        kunder kan du også legge igjen epostadressen din her:
      </p>

      <div>
        <rente-input
          [placeholder]="'E-post'"
          formControlName="email"
          [errorStateMatcher]="isErrorState(missingBankForm.controls['email'])"
          [textControl]="inValid()"
        >
        </rente-input>
        <div
          i18n="“issue-email|get-notified@@get.notified.email”"
          *ngIf="emailError"
          class="error-message"
        >
          <rente-form-message
            class="text-left d-block"
            [type]="'error'"
            *ngIf="missingBankForm.controls['email'].hasError('required')"
          >
            Ikke gyldig email
          </rente-form-message>
          <rente-form-message
            class="text-left d-block"
            [type]="'error'"
            *ngIf="missingBankForm.controls['email'].hasError('pattern')"
          >
            Ikke gyldig email
          </rente-form-message>
        </div>
      </div>

      <rente-button
        i18n="“notify-me|get-notified@@get.notified.notifyMe”"
        color="primary"
        [disabled]="!missingBankForm.valid || isLoading"
        >Gi meg beskjed!
      </rente-button>
    </form>
  </div>

  <div *ngIf="isDnbBank" class="calculator-promotion">
    <h4>
      I mellomtiden prøv gjerne vår
      <a [routerLink]="['/boliglanskalkulator']"> boliglånskalkulator </a>
    </h4>
  </div>
</div>
=======
<div class="wrapper">
    <div class=" loading" *ngIf="isLoading">
        <mat-spinner [diameter]="48" [strokeWidth]="4"></mat-spinner>
    </div>

    <div class="forms-wrapper">
        <div></div>
        <form *ngIf="!newClient" [formGroup]="loanFormGroup" novalidate class="center loan-form">
            <div class="loan-grid">
                <div class="field">
                    <div class="with-info">

                        <rente-input [placeholder]="'Gjenværende lånestørrelse'" [type]="'tel'"
                            [maskType]="mask.currency" matSuffix="kr" formControlName="outstandingDebt"
                            [errorStateMatcher]="
                                isErrorState(loanFormGroup.controls['outstandingDebt'])
                                ">
                        </rente-input>
                        <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable" (click)="openInfoDialog({header: ' Hvor mye er lånet ditt på i dag?',
                                    text: 'Om du er usikker kan du gi oss omtrentlig lånestørrelse. Vit da at evt. beregnet besparelse vil bli høyere eller lavere ut i fra blant annet størrelsen på lånet ditt'
                                    })">
                            <mat-icon>help</mat-icon>
                        </div>
                    </div>

                    <div *ngIf="loanFormGroup.controls['outstandingDebt'].touched">
                        <p class="error small" *ngIf="loanFormGroup.controls['outstandingDebt'].hasError('required')">
                            Kan ikke være tom
                        </p>
                    </div>
                </div>

                <div class="field">
                    <rente-input [placeholder]="'Gjenværende år igjen på lånet'" matSuffix="år" [maxLength]="2"
                        formControlName="remainingYears" [errorStateMatcher]="
                    isErrorState(loanFormGroup.controls['remainingYears'])
                  ">
                    </rente-input>

                    <div *ngIf="loanFormGroup.controls['remainingYears'].touched">
                        <p class="error small" *ngIf="loanFormGroup.controls['remainingYears'].hasError('required')">
                            Kan ikke være tom
                        </p>
                    </div>
                </div>

                <div class="field left">
                    <mat-form-field appearance="fill">
                        <mat-label>Lånetype</mat-label>
                        <mat-select formControlName="loanType">
                            <mat-option *ngFor="let option of selectOptions" value="{{option.value}}">
                                {{option.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </form>

        <div class="new-client-form" *ngIf="showForms">
            <div class="header-wrapper">
                <rente-flow-header class="flow-header" [count]="4" [currentIndex]="currentStepperValue"
                    (indexChange)="updateStepperIndex($event)">
                </rente-flow-header>
            </div>

            <div class="stepper-wrapper">
                <mat-horizontal-stepper class="stepper" [linear]="false" #stepper>
                    <mat-step [stepControl]="emailFormGroup" [editable]="true">

                        <div class="text-box">
                            <h2>Takk!</h2>
                            <h4> Vi trenger bare noen få detaljer om deg og lånet ditt før alt er klart. Fyll inn
                                boksene og
                                trykk på Neste under.</h4>
                        </div>

                        <form *ngIf="showForms" [formGroup]="emailFormGroup" novalidate (ngSubmit)="next()">
                            <div autofocus class=" field">

                                <rente-input [placeholder]="'E-post'" formControlName="email"
                                    [modelOptions]="{ updateOn: 'blur' }" [errorStateMatcher]="
                    isErrorState(emailFormGroup.controls['email'])
                  ">
                                </rente-input>

                                <div *ngIf="emailFormGroup.controls['email'].touched">
                                    <p class="error small"
                                        *ngIf="emailFormGroup.controls['email'].hasError('required')">
                                        Kan ikke være tom
                                    </p>
                                    <p class="error small" *ngIf="emailFormGroup.controls['email'].hasError('pattern')">
                                        Ugyldig e-post
                                    </p>
                                </div>
                            </div>

                            <div class="buttons">

                                <!--                         <rente-button matStepperNext color="primary" [isLoading]="isLoading"
                            [disabled]="emailFormGroup.invalid || isLoading">
                            Neste
                        </rente-button> -->
                            </div>
                        </form>
                    </mat-step>

                    <mat-step [stepControl]="userFormGroup" [editable]="true">




                        <form *ngIf="showManualInputForm === true" [formGroup]="manualPropertyValueFormGroup" novalidate
                            (ngSubmit)="next()" class="center">

                            <div class="field-with-info">
                                <rente-input [placeholder]="'Din boligverdi'" formControlName="manualPropertyValue"
                                    matSuffix="kr" [errorStateMatcher]="
            isErrorState(manualPropertyValueFormGroup.controls['manualPropertyValue'])
          " [type]="'tel'" [maskType]="mask.currency">
                                </rente-input>
                                <div *ngIf="manualPropertyValueFormGroup.controls['manualPropertyValue'].touched">
                                    <p i18n=“empty3|info-confirmation@@info.confirmation.empty3” class="error small"
                                        *ngIf="manualPropertyValueFormGroup.controls['manualPropertyValue'].hasError('required')">
                                        Kan ikke være tom
                                    </p>
                                </div>
                                <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable"
                                    (click)="openInfoDialog({ text: 'Din/Husstandens inntekt er en viktig parameter for renten bankene tilbyr'})">
                                    <mat-icon>help</mat-icon>
                                </div>
                            </div>
                        </form>

                        <form *ngIf="showManualInputForm === false" [formGroup]="userFormGroup" novalidate
                            (ngSubmit)="next()" class="center">

                            <div class="address-grid">
                                <div class="field">
                                    <rente-input [placeholder]="'Adresse'" formControlName="address"
                                        [errorStateMatcher]="
                        isErrorState(userFormGroup.controls['address'])
                      ">
                                    </rente-input>

                                    <div *ngIf="userFormGroup.controls['address'].touched">
                                        <p i18n=“empty|info-confirmation@@info.confirmation.empty” class="error small"
                                            *ngIf="userFormGroup.controls['address'].hasError('required')">
                                            Kan ikke være tom
                                        </p>
                                    </div>
                                </div>

                                <div class="field">
                                    <rente-input [placeholder]="'Postnummer'" formControlName="zip" [maxLength]="4"
                                        [errorStateMatcher]="
                        isErrorState(userFormGroup.controls['zip'])
                      ">
                                    </rente-input>

                                    <div *ngIf="userFormGroup.controls['zip'].touched">
                                        <p i18n=“empty|info-confirmation@@info.confirmation.empty” class="error small"
                                            *ngIf="userFormGroup.controls['zip'].hasError('required')">
                                            Kan ikke være tom
                                        </p>
                                    </div>
                                </div>

                                <div class="field-with-info fill">
                                    <rente-input [placeholder]="'Størrelse på boligen din'"
                                        formControlName="apartmentSize" matSuffix="kvm" [errorStateMatcher]="
                isErrorState(
                  userFormGroup.controls['apartmentSize']
                )
              " [type]="'tel'" [maskType]="mask.squareMeter">
                                    </rente-input>

                                    <div *ngIf="userFormGroup.controls['apartmentSize'].touched">
                                        <p i18n=“empty2|info-confirmation@@info.confirmation.empty2” class="error small"
                                            *ngIf="
                  userFormGroup.controls['apartmentSize'].hasError('required')">Kan ikke være tom
                                        </p>
                                    </div>
                                    <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable"
                                        (click)="openInfoDialog({text: 'Brukes til å estimere din boligverdi'})">
                                        <mat-icon>help</mat-icon>
                                    </div>
                                </div>
                            </div>

                            <div class="field-with-info">


                                <rente-input [placeholder]="'Din brutto årsinntekt'" formControlName="income"
                                    matSuffix="kr" [errorStateMatcher]="
            isErrorState(userFormGroup.controls['income'])
          " [type]="'tel'" [maskType]="mask.currency">
                                </rente-input>
                                <div *ngIf="userFormGroup.controls['income'].touched">
                                    <p i18n=“empty3|info-confirmation@@info.confirmation.empty3” class="error small"
                                        *ngIf="userFormGroup.controls['income'].hasError('required')">
                                        Kan ikke være tom
                                    </p>
                                </div>
                                <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable"
                                    (click)="openInfoDialog({ text: 'Din/Husstandens inntekt er en viktig parameter for renten bankene tilbyr'})">
                                    <mat-icon>help</mat-icon>
                                </div>
                            </div>
                        </form>

                    </mat-step>
                    <mat-step [editable]="true">
                        <form *ngIf="showForms" [formGroup]="loanFormGroup" novalidate (ngSubmit)="next()"
                            class="center  loan-form">

                            <div class="loan-grid">
                                <div class="field">
                                    <div class="with-info">

                                        <rente-input [placeholder]="'Gjenværende lånestørrelse'" [type]="'tel'"
                                            [maskType]="mask.currency" matSuffix="kr" formControlName="outstandingDebt"
                                            [errorStateMatcher]="
                                isErrorState(loanFormGroup.controls['outstandingDebt'])
                                ">
                                        </rente-input>
                                        <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable"
                                            (click)="openInfoDialog({header: ' Hvor mye er lånet ditt på i dag?',
                                    text: 'Om du er usikker kan du gi oss omtrentlig lånestørrelse. Vit da at evt. beregnet besparelse vil bli høyere eller lavere ut i fra blant annet størrelsen på lånet ditt'
                                    })">
                                            <mat-icon>help</mat-icon>
                                        </div>
                                    </div>

                                    <div *ngIf="loanFormGroup.controls['outstandingDebt'].touched">
                                        <p class="error small"
                                            *ngIf="loanFormGroup.controls['outstandingDebt'].hasError('required')">
                                            Kan ikke være tom
                                        </p>
                                    </div>
                                </div>

                                <div class="field">
                                    <div class="with-info">

                                        <rente-input [placeholder]="'Gjenværende år igjen på lånet'" matSuffix="år"
                                            [maxLength]="2" formControlName="remainingYears" [errorStateMatcher]="
                    isErrorState(loanFormGroup.controls['remainingYears'])
                  ">
                                        </rente-input>

                                        <div i18n=“help|info-confirmation@@info.confirmation.help” class="clickable"
                                            (click)="openInfoDialog({header: ' Hvor mange år har du igjen å til lånet er nedbetalt?',
                                        text: 'Om du er usikker så kan du legge inn sånn omtrentlig hvor mange år du har. Hvis du lar feltet stå tomt antar vi at lånet har 20 år igjen.'
                                        })">
                                            <mat-icon>help</mat-icon>
                                        </div>
                                    </div>

                                    <div *ngIf="loanFormGroup.controls['remainingYears'].touched">
                                        <p class="error small"
                                            *ngIf="loanFormGroup.controls['remainingYears'].hasError('required')">
                                            Kan ikke være tom
                                        </p>
                                    </div>
                                </div>

                                <div class="field left">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Lånetype</mat-label>
                                        <mat-select formControlName="loanType">
                                            <mat-option *ngFor="let option of selectOptions" value="{{option.value}}">
                                                {{option.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                            </div>
                        </form>
                    </mat-step>
                    <mat-step [stepControl]="membershipFormGroup" [editable]="true">

                        <form *ngIf="showForms" [formGroup]="membershipFormGroup" novalidate (ngSubmit)="doneClicked()"
                            class="center">

                            <div class="field full-height">
                                <div class="info-box">
                                    <p class="small">
                                        Bankene gir ofte bedre betingelser om du er medlem i en organisasjon
                                    </p>
                                </div>
                                <div class="membership-wrapper">

                                    <mat-form-field>
                                        <input type="number" placeholder="+ Legg til medlemskap (valgfritt)" matInput
                                            [formControl]="membershipCtrl" formControlName="membership" #membershipInput
                                            [matAutocomplete]="auto" />
                                        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                                            <mat-option *ngFor="let membership of filteredMemberships | async"
                                                [value]="membership">
                                                {{ membership.label }}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                    <p i18n=“my-memberships|info-confirmation@@info.confirmation.myMemberships”
                                        class="small" *ngIf="memberships.length">
                                        Mine medlemskap
                                    </p>
                                    <p class="memberlist" *ngFor="let membership of memberships; let i = index">
                                        {{ membership.label }}
                                        <mat-icon class="clickable" (click)="remove(membership, i)" *ngIf="removable">
                                            delete_forever
                                        </mat-icon>
                                    </p>
                                </div>

                            </div>
                        </form>
                    </mat-step>
                </mat-horizontal-stepper>
            </div>
        </div>

        <div class="bottom">

            <rente-button *ngIf="!newClient" class="right" (click)="oldUserFinished()" color="primary"
                [isLoading]="isLoading" [disabled]="loanFormGroup.invalid || isLoading">
                Se besparelse
            </rente-button>

            <div *ngIf=" showForms === true && newClient === true && stepper !== undefined"
                [ngSwitch]="stepper.selectedIndex">
                <div *ngSwitchCase="0">
                    <rente-button class="right" (click)="next()" color="primary" [isLoading]="isLoading"
                        [disabled]="emailFormGroup.invalid || isLoading">
                        Neste
                    </rente-button>
                </div>
                <div *ngSwitchCase="1">
                    <rente-button (click)="back()" i18n="choose-office |change-bank@@change.bank.location.back"
                        class="left" color="mat-primar-hollow-medium">
                        Tilbake
                    </rente-button>
                    <rente-button *ngIf="!showManualInputForm" class="right" (click)="goToLoansForm()" color="primary"
                        [isLoading]="isLoading" [disabled]="userFormGroup.invalid || isLoading">
                        Neste
                    </rente-button>

                    <rente-button *ngIf="showManualInputForm" class="right"
                        (click)="goToLoansFormFromManulPropertyValue()" color="primary" [isLoading]="isLoading"
                        [disabled]="manualPropertyValueFormGroup.invalid || isLoading">
                        Neste
                    </rente-button>
                </div>
                <div *ngSwitchCase="2">
                    <rente-button (click)="back()" i18n="choose-office |change-bank@@change.bank.location.back"
                        class="left" color="mat-primar-hollow-medium">
                        Tilbake
                    </rente-button>
                    <rente-button class="right" (click)="next()" color="primary" [isLoading]="isLoading"
                        [disabled]="loanFormGroup.invalid || isLoading">
                        Neste
                    </rente-button>
                </div>
                <div *ngSwitchCase="3">

                    <rente-button (click)="back()" i18n="choose-office |change-bank@@change.bank.location.back"
                        class="left" color="mat-primar-hollow-medium">
                        Tilbake
                    </rente-button>
                    <rente-button class="right" (click)="doneClicked()" color="primary" [isLoading]="isLoading"
                        [disabled]="membershipFormGroup.invalid || isLoading">
                        Sjekk besparelse
                    </rente-button>
                </div>
                <div *ngSwitchDefault>

                </div>
            </div>
        </div>
    </div>
</div>
>>>>>>> rm-451
