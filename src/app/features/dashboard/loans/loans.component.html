<div *ngIf="loansData && loansData.loans && loansData.loans.length > 0">
  <div class="summary">
    <h3 i18n=“title|loans@@loans.title” class="title">Sammendrag av lån</h3>
    <div class="desktop-double">
      <div class="double">
        <div class="box">
          <p i18n=“text-outbound|loans@@loans.outbound” class="small">Utestående lån</p>
          <h3 i18n=“text-data|loans@@loans.outbound.data”>
            {{ loansData.totalOutstandingDebt / 1000000 | number: "1.3-3" }}
            millioner
          </h3>
        </div>
        <div class="box">
          <p i18n=“text-interest|loans@@loans.interest” class="small">Effektiv rente</p>
          <h3>{{ loansData.totalEffectiveRate | number: "1.2-2" }} %</h3>
        </div>
      </div>
      <div class="double">
        <div class="box">
          <p i18n=“text-interest-fee|loans@@loans.interestFee” class="small">
            Totale renter & gebyrer
          </p>
          <h3>
            {{
              loansData.aggregatedTotalInterestAndFee == null
                ? "N/A"
                : (loansData.aggregatedTotalInterestAndFee | number: "1.0-0") +
                  ",-"
            }}
          </h3>
        </div>
        <div class="box">
          <p i18n=“interest-fees-year|loans@@loans.interestFee.year” class="small">
            Renter & gebyrer per år
          </p>
          <h3>
            {{
              loansData.aggregatedTotalInterestAndFeeByRemainingYears == null
                ? "N/A"
                : (loansData.aggregatedTotalInterestAndFeeByRemainingYears
                    | number: "1.0-0") + ",-"
            }}
          </h3>
        </div>
      </div>
    </div>
  </div>

  <div class="detailed">
    <h3 i18n=“details|loans@@loans.details” class="title">Detaljert</h3>
    <div *ngFor="let loan of loansData.loans">
      <b class="heading">{{ loan.loanName }}</b>

      <div class="inner">
        <div class="desktop-double">
          <div class="double">
            <div class="box">
              <p i18n=“mortgage|loans@@loans.mortgage” class="small">Utestående lån</p>
              <h3 i18n=“mortgage-amount|loans@@loans.mortgage.amount”>
                {{ loan.outstandingDebt / 1000000 | number: "1.3-3" }} millioner
              </h3>
            </div>
            <div class="box">
              <p i18n=“mortgage-time|loans@@loans.mortgage.time” class="small">Løpetid</p>
              <h3>{{ loan.remainingYears | number: "1.2-2" }} år</h3>
            </div>
          </div>

          <div class="double">
            <div class="box">
              <p i18n=“mortgage-interest|loans@@loans.mortgage.interest” class="small">Effektiv rente</p>
              <h3>{{ loan.effectiveRate | number: "1.2-2" }} %</h3>
            </div>
            <div class="box">
              <p i18n=“nominal-interest|loans@@loans.nominal.interest” class="small">Nominell rente</p>
              <h3>{{ loan.nominalRate | number: "1.2-2" }} %</h3>
            </div>
          </div>
        </div>
        <div class="desktop-double">
          <div class="double">
            <div class="box">
              <p i18n=“total-interest-fee|loans@@loans.interestFee.total” class="small">Totale renter & gebyrer</p>
              <h3>
                {{
                  loan.totalInterestAndTotalFee == null
                    ? "N/A"
                    : (loan.totalInterestAndTotalFee | number: "1.0-0") + ",-"
                }}
              </h3>
            </div>
            <div class="box">
              <p i18n=“per-year-interest-fee|loans@@loans.interestFee.year” class="small">Renter & gebyrer per år</p>
              <h3>
                {{
                  loan.totalInterestAndTotalFeeByRemainingYears == null
                    ? "N/A"
                    : (loan.totalInterestAndTotalFeeByRemainingYears
                        | number: "1.0-0") + ",-"
                }}
              </h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>

<div class="loading" *ngIf="!loansData && !errorMessage">
  <mat-spinner [diameter]="48" [strokeWidth]="4"></mat-spinner>
</div>

<div *ngIf="errorMessage">
  <h1 class="text-center mt-4">{{ errorMessage }}</h1>
</div>


