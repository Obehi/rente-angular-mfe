<div
  class="summary"
  *ngIf="loansData && loansData.loans && loansData.loans.length > 0"
>
  <h3 class="title">Sammendrag av lån</h3>
  <div class="content-blue-box">
    <div class="all-text">
      <div class="information-box">
        <div class="box-title">
          <p>Utestående lån:</p>
        </div>
        <div class="box-value">
          <h3>
            {{ loansData.totalOutstandingDebt / 1000000 | number: '1.3-3' }}
            millioner
          </h3>
        </div>
      </div>
      <div class="information-box">
        <div class="box-title">
          <p>Effektiv rente</p>
        </div>
        <div class="box-value">
          <h3>{{ loansData.totalEffectiveRate | number: '1.2-2' }} %</h3>
        </div>
      </div>
    </div>

    <div class="total-cost">
      <div class="double-container">
        <div class="first-box move-first-box">
          <div class="btitle-one">
            <p>Totale renter og gebyrer</p>
          </div>
          <div class="bvalue">
            {{
              loansData.aggregatedTotalInterestAndFee == null
                ? 'N/A'
                : (loansData.aggregatedTotalInterestAndFee | number: '1.0-0') +
                  ',-'
            }}
          </div>
        </div>

        <div class="first-box move-sec-box">
          <div class="btitle-two">
            <p>Renter & gebyrer per år</p>
          </div>
          <div class="bvalue">
            {{
              loansData.aggregatedTotalInterestAndFeeByRemainingYears == null
                ? 'N/A'
                : (loansData.aggregatedTotalInterestAndFeeByRemainingYears
                    | number: '1.0-0') + ',-'
            }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngFor="let loan of loans">
  <div class="summary">
    <div class="content-blue-box">
      <div class="loan-type">
        <h3>{{ loan.loanName }}</h3>
      </div>
      <div class="all-text">
        <div class="loan-info">
          <div>
            <p>Utestående lån:</p>
          </div>
          <div>
            <h3>
              {{ loan.outstandingDebt / 1000000 | number: '1.3-3' }}
              millioner
            </h3>
          </div>
        </div>
        <div class="loan-info">
          <div>
            <p>Løpetid:</p>
          </div>
          <div>
            <h3>{{ loan.remainingYears | number: '1.2-2' }} år</h3>
          </div>
        </div>

        <div class="loan-info">
          <div>
            <p>Effektiv rente:</p>
          </div>
          <div>
            <h3>{{ loan.effectiveRate | number: '1.2-2' }} %</h3>
          </div>
        </div>

        <div class="loan-info">
          <div>
            <p>Nominell rente:</p>
          </div>
          <div>
            <h3>{{ loan.nominalRate | number: '1.2-2' }} %</h3>
          </div>
        </div>
      </div>

      <div class="total-cost">
        <div class="double-container">
          <div class="first-box move-first-box">
            <div class="btitle-one">
              <p>Totale renter og gebyrer</p>
            </div>
            <div class="bvalue">
              {{
                loan.totalInterestAndTotalFee == null
                  ? 'N/A'
                  : (loan.totalInterestAndTotalFee | number: '1.0-0') + ',-'
              }}
            </div>
          </div>

          <div class="first-box move-sec-box">
            <div class="btitle-two">
              <p>Renter & gebyrer per år</p>
            </div>
            <div class="bvalue">
              {{
                loan.totalInterestAndTotalFeeByRemainingYears == null
                  ? 'N/A'
                  : (loan.totalInterestAndTotalFeeByRemainingYears
                      | number: '1.0-0') + ',-'
              }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="loading" *ngIf="!loansData && !errorMessage">
  <mat-spinner [diameter]="48" [strokeWidth]="4"></mat-spinner>
</div>

<div *ngIf="errorMessage">
  <h1 class="text-center mt-4">{{ errorMessage }}</h1>
</div>
