<div
  class="summary"
  *ngIf="loansData && loansData.loans && loansData.loans.length > 0"
>
  <div class="info">Signicat brukere uten fixed price</div>
  <div *ngFor="let loan of loans">
    <div>
      <div class="content-blue-box">
        <div class="loan-type">
          <h3>Lån</h3>
          <div>
            <img
              (click)="activateEditMode()"
              class="loan-edit"
              src="../../../../../../assets/icons/loan-edit-icon.svg"
              alt="loan-edit"
            />
          </div>
        </div>
        <hr class="loan-split" />

        <div class="all-text">
          <div class="loan-center">
            <p>
              <!-- {{ loan.loanName }} -->
              BOLIGLÅN 85% BOLIGKR 0-2
            </p>
          </div>
        </div>

        <div class="forms" *ngIf="loanForm">
          <form class="p-0 border-0" [formGroup]="loanForm" novalidate change>
            <div class="field-box">
              <h4 class="text-white">Utestående lån:</h4>

              <div class="loan-value" [hidden]="isEditMode">
                <h3>
                  {{ loan.outstandingDebt / 1000000 | number: '1.3-3' }}
                  millioner
                </h3>
              </div>

              <div [hidden]="!isEditMode">
                <mat-form-field class="white-input w-75" appearance="outline">
                  <input
                    placeholder="Skriv inn din lån"
                    matInput
                    type="tel"
                    autocomplete="off"
                    [formControlName]="'outstandingDebt'"
                    currencyMask
                    [options]="{
                      prefix: '',
                      suffix: ' kr',
                      align: 'center',
                      thousands: ' ',
                      precision: 0
                    }"
                  />
                </mat-form-field>

                <div
                  *ngIf="loanForm.controls['outstandingDebt'].touched"
                  class="error-message"
                >
                  <rente-form-message
                    class="d-block"
                    [type]="'error'"
                    *ngIf="
                      loanForm.controls['outstandingDebt'].hasError('required')
                    "
                  >
                    Kan ikke være tom
                  </rente-form-message>
                </div>
              </div>
            </div>
          </form>
        </div>

        <hr class="box" />
        <div>
          <div class="double-container">
            <div class="first-box">
              <div class="btitle-one">
                <p>Totale renter og gebyrer</p>
              </div>
              <div class="bvalue">
                {{
                  loan.totalInterestAndTotalFee == null
                    ? 'N/A'
                    : (loan.totalInterestAndTotalFee | number: '1.0-0') + ',-'
                }}
              </div>
            </div>

            <div class="vl"></div>

            <div class="first-box">
              <div class="btitle-two">
                <p>Renter & gebyrer per år</p>
              </div>
              <div class="bvalue">
                {{
                  loan.totalInterestAndTotalFeeByRemainingYears == null
                    ? 'N/A'
                    : (loan.totalInterestAndTotalFeeByRemainingYears
                        | number: '1.0-0') + ',-'
                }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="loading" *ngIf="!loansData && !errorMessage">
  <mat-spinner [diameter]="48" [strokeWidth]="4"></mat-spinner>
</div>

<div *ngIf="errorMessage">
  <h1 class="text-center mt-4">{{ errorMessage }}</h1>
</div>
